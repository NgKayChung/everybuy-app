{"version":3,"sources":["./src/app/pages/payment-complete/payment-complete.page.html","./src/app/pages/payment-complete/payment-complete.module.ts","./src/app/pages/payment-complete/payment-complete.page.scss","./src/app/pages/payment-complete/payment-complete.page.ts"],"names":[],"mappings":"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","file":"pages-payment-complete-payment-complete-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-title class=\\\"ion-text-center\\\" style=\\\"font-size: x-large; font-weight: bold;\\\">Successful</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"ion-text-center\\\" style=\\\"margin: 1rem 0px;\\\">\\n    <ion-icon name=\\\"checkmark\\\" size=\\\"large\\\" style=\\\"color: lawngreen\\\"></ion-icon>\\n    <h3 style=\\\"margin-top: 0px; font-weight: bold;\\\">Successful</h3>\\n  </div>\\n  <ion-card class=\\\"receipt-container\\\">\\n    <h3 class=\\\"ion-text-center\\\" style=\\\"color: black;\\\">Receipt</h3>\\n    <div>\\n      <p class=\\\"field-title\\\">Order ID</p>\\n      <ng-template [ngIf]=\\\"orderID\\\">\\n        <p class=\\\"field-value\\\">{{ orderID }}</p>\\n      </ng-template>\\n    </div>\\n    <div>\\n      <p class=\\\"field-title\\\">Order Time</p>\\n      <ng-template [ngIf]=\\\"orderTime_st\\\">\\n        <p class=\\\"field-value\\\">{{ orderTime_st }}</p>\\n      </ng-template>\\n    </div>\\n    <div>\\n      <p class=\\\"field-title\\\">Total Amount</p>\\n      <ng-template [ngIf]=\\\"totalAmount_nm\\\">\\n        <p class=\\\"field-value\\\">RM{{ totalAmount_nm.toFixed(2) }}</p>\\n      </ng-template>\\n    </div>\\n    <div>\\n      <p class=\\\"field-title\\\">Payment</p>\\n      <p class=\\\"field-value\\\">Debit/Credit Card</p>\\n    </div>\\n    <div>\\n      <p class=\\\"field-title\\\">Card No</p>\\n      <ng-template [ngIf]=\\\"cardNo_st\\\">\\n        <p class=\\\"field-value\\\">{{ cardNo_st }}</p>\\n      </ng-template>\\n    </div>\\n  </ion-card>\\n  <ng-template [ngIf]=\\\"receiptURL_st != null\\\">\\n    <div class=\\\"ion-text-center\\\" style=\\\"margin: 0 2rem 1rem;\\\">\\n      <p class=\\\"ion-text-center\\\" style=\\\"color: dimgrey; margin-bottom: 0.3rem;\\\">Tap to view your payment receipt</p>\\n      <ion-button shape=\\\"round\\\" color=\\\"primary\\\" slot=\\\"icon-only\\\" (click)=\\\"viewReceipt()\\\">\\n        <ion-icon name=\\\"paper\\\"></ion-icon>\\n      </ion-button>\\n      <ion-ripple-effect type=\\\"unbounded\\\"></ion-ripple-effect>\\n    </div>\\n  </ng-template>\\n  <div class=\\\"ion-text-center\\\" style=\\\"margin-bottom: 2rem;\\\">\\n    <ion-button shape=\\\"round\\\" color=\\\"success\\\" style=\\\"width: 75%;\\\" (click)=\\\"doneBackToHome()\\\">Done</ion-button>\\n    <ion-ripple-effect type=\\\"unbounded\\\"></ion-ripple-effect>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentCompletePage } from './payment-complete.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentCompletePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PaymentCompletePage]\n})\nexport class PaymentCompletePageModule {}\n","module.exports = \".field-title {\\n  width: 50%;\\n  text-align: left;\\n  float: left;\\n}\\n\\n.field-value {\\n  width: 50%;\\n  text-align: right;\\n  float: left;\\n  color: black;\\n}\\n\\n.receipt-container {\\n  border-radius: 10px;\\n  border: 1px solid black;\\n  padding: 0px 1rem 1rem;\\n  margin: 1rem 2rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGF5bWVudC1jb21wbGV0ZS9DOlxcVXNlcnNcXGxcXERvY3VtZW50c1xcTW9iaWxlIFRlY2hub2xvZ3kgUHJvamVjdFxcRXZlcnlCdXkvc3JjXFxhcHBcXHBhZ2VzXFxwYXltZW50LWNvbXBsZXRlXFxwYXltZW50LWNvbXBsZXRlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvcGF5bWVudC1jb21wbGV0ZS9wYXltZW50LWNvbXBsZXRlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGF5bWVudC1jb21wbGV0ZS9wYXltZW50LWNvbXBsZXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5maWVsZC10aXRsZSB7XHJcbiAgICB3aWR0aDogNTAlO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG59XHJcblxyXG4uZmllbGQtdmFsdWUge1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbi5yZWNlaXB0LWNvbnRhaW5lciB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICBwYWRkaW5nOiAwcHggMXJlbSAxcmVtO1xyXG4gICAgbWFyZ2luOiAxcmVtIDJyZW07XHJcbn0iLCIuZmllbGQtdGl0bGUge1xuICB3aWR0aDogNTAlO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBmbG9hdDogbGVmdDtcbn1cblxuLmZpZWxkLXZhbHVlIHtcbiAgd2lkdGg6IDUwJTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIGZsb2F0OiBsZWZ0O1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5yZWNlaXB0LWNvbnRhaW5lciB7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICBwYWRkaW5nOiAwcHggMXJlbSAxcmVtO1xuICBtYXJnaW46IDFyZW0gMnJlbTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NavController, IonDatetime } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport * as moment from 'moment';\n\nimport { OrderService } from '../../services/order.service';\n\n@Component({\n  selector: 'app-payment-complete',\n  templateUrl: './payment-complete.page.html',\n  styleUrls: ['./payment-complete.page.scss'],\n})\nexport class PaymentCompletePage implements OnInit {\n  public receiptURL_st: string;\n  public orderID: string;\n  public orderTime_st: string;\n  public totalAmount_nm: number;\n  public cardNo_st: string;\n\n  constructor(\n    private navCtrl: NavController,\n    private activatedRoute: ActivatedRoute,\n    private iab: InAppBrowser,\n    private orderService: OrderService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.activatedRoute.queryParams.subscribe(params => {\n      this.orderID = params[\"order_id\"];\n      this.orderService.getOrderDetails(this.orderID)\n        .then((data) => {\n          this.orderTime_st = (data[\"payment_time\"] == null ? \"-\" : moment(new Date(data[\"payment_time\"])).format(\"DD/MM/YYYY hh:mma\"));\n          this.totalAmount_nm = data[\"total_amount_nm\"];\n          this.cardNo_st = (data[\"last4_card_no_st\"] == null ? \"-\" : \"xxxxxxxxxxxx\" + data[\"last4_card_no_st\"]);\n          this.receiptURL_st = data[\"receipt_url_st\"];\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    });\n  }\n\n  viewReceipt() {\n    if(this.receiptURL_st && this.receiptURL_st != null) {\n      const browser = this.iab.create(this.receiptURL_st);\n    }\n  }\n\n  doneBackToHome() {\n    this.navCtrl.navigateRoot(\"/home\");\n  }\n}"],"sourceRoot":""}