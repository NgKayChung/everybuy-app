{"version":3,"sources":["./src/app/pages/home/home.page.html","./src/app/pages/home/home.module.ts","./src/app/pages/home/home.page.scss","./src/app/pages/home/home.page.ts"],"names":[],"mappings":"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","file":"pages-home-home-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"secondary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n    </ion-buttons>\\n    <ion-title>Home</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-toolbar>\\n    <ion-searchbar placeholder=\\\"Search by Product Name\\\" style=\\\"width: 90%; margin: auto;\\\" slot=\\\"start\\\" (ionChange)=\\\"onSearchChange($event)\\\"></ion-searchbar>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button color=\\\"primary\\\" (click)=\\\"filterProduct()\\\">\\n        <ion-icon name=\\\"funnel\\\"></ion-icon>\\n        <label>Filter</label>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <ng-template [ngIf]=\\\"products && products.length > 0\\\" [ngIfElse]=\\\"noProduct\\\">\\n    <!-- <ion-virtual-scroll [items]=\\\"products\\\" approxItemHeight=\\\"320px\\\">\\n      <ion-item class=\\\"item-thumbnail-left\\\" *virtualItem=\\\"let product;\\\" [routerLink]=\\\"['/product-details/' + product.product_id]\\\">\\n        <ion-img class=\\\"image\\\" [src]=\\\"product.thumbnail_image_st\\\"></ion-img>\\n        <div class=\\\"item-info\\\">\\n          <p class=\\\"prod-name\\\">\\n            {{product.product_name_st}}\\n          </p>\\n          <p class=\\\"price\\\">\\n            RM {{product.product_price_nm.toFixed(2)}}\\n          </p>\\n        </div>\\n      </ion-item>\\n    </ion-virtual-scroll> -->\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let product of products\\\" class=\\\"item-thumbnail-left\\\" [routerLink]=\\\"['/product-details/' + product.product_id]\\\">\\n        <ion-img class=\\\"image\\\" [src]=\\\"product.thumbnail_image_st\\\"></ion-img>\\n        <div class=\\\"item-info\\\">\\n          <p class=\\\"prod-name\\\">\\n            {{product.product_name_st}}\\n          </p>\\n          <p class=\\\"price\\\">\\n            RM {{product.product_price_nm.toFixed(2)}}\\n          </p>\\n        </div>\\n      </ion-item>\\n    </ion-list>\\n  </ng-template>\\n  <ng-template #noProduct>\\n    <p style=\\\"padding: 0px 10px;\\\">No product found</p>\\n  </ng-template>\\n</ion-content>\\n<app-tabs></app-tabs>\"","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\nimport { TabsModule } from '../../components/tabs/tabs.component.module';\n\n@NgModule({\n  entryComponents: [], \n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ]),\n    TabsModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}","module.exports = \"/* Product */\\n.price {\\n  font-size: 16px;\\n  font-weight: 500;\\n  color: #025296;\\n}\\n.prod-name {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n}\\n.image {\\n  width: 30%;\\n  height: 16vh;\\n  margin-right: 0.5rem;\\n  padding: 0.5rem;\\n}\\n.item-info {\\n  width: 70%;\\n}\\nion-searchbar {\\n  --placeholder-opacity: .7;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9DOlxcVXNlcnNcXGxcXERvY3VtZW50c1xcTW9iaWxlIFRlY2hub2xvZ3kgUHJvamVjdFxcRXZlcnlCdXkvc3JjXFxhcHBcXHBhZ2VzXFxob21lXFxob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFBO0FBQ0E7RUFDQyxlQUFBO0VBQ0MsZ0JBQUE7RUFDQSxjQUFBO0FDQ0Y7QURFQTtFQUNFLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsNEJBQUE7QUNDRjtBREVBO0VBQ0MsVUFBQTtFQUNDLFlBQUE7RUFDQSxvQkFBQTtFQUNBLGVBQUE7QUNDRjtBREVBO0VBQ0UsVUFBQTtBQ0NGO0FERUE7RUFDRSx5QkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFByb2R1Y3QgKi9cbi5wcmljZXtcblx0Zm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjb2xvcjogIzAyNTI5Njtcbn1cblxuLnByb2QtbmFtZSB7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgLXdlYmtpdC1saW5lLWNsYW1wOiAyO1xuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xufVxuXG4uaW1hZ2Uge1xuXHR3aWR0aDogMzAlO1xuICBoZWlnaHQ6IDE2dmg7XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICBwYWRkaW5nOiAwLjVyZW07XG59XG5cbi5pdGVtLWluZm8ge1xuICB3aWR0aDogNzAlO1xufVxuXG5pb24tc2VhcmNoYmFyIHtcbiAgLS1wbGFjZWhvbGRlci1vcGFjaXR5OiAuNztcbn0iLCIvKiBQcm9kdWN0ICovXG4ucHJpY2Uge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjMDI1Mjk2O1xufVxuXG4ucHJvZC1uYW1lIHtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7XG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG59XG5cbi5pbWFnZSB7XG4gIHdpZHRoOiAzMCU7XG4gIGhlaWdodDogMTZ2aDtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG4gIHBhZGRpbmc6IDAuNXJlbTtcbn1cblxuLml0ZW0taW5mbyB7XG4gIHdpZHRoOiA3MCU7XG59XG5cbmlvbi1zZWFyY2hiYXIge1xuICAtLXBsYWNlaG9sZGVyLW9wYWNpdHk6IC43O1xufSJdfQ== */\"","import { Component } from '@angular/core';\n\nimport { ModalController } from '@ionic/angular';\n\nimport { AuthService } from '../../services/auth.service';\nimport { ProductService } from '../../services/product.service';\n\nimport { FilterProductModalPage } from '../../modals/filter-product-modal/filter-product-modal.page';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n  providers: [ ProductService ]\n})\nexport class HomePage {\n  public products: any;\n\n  constructor(\n    private modalController: ModalController,\n    private authService: AuthService,\n    private productService: ProductService\n  ) {}\n\n  ionViewWillEnter() {\n    this.products = {};\n    this.retrieveProducts();\n  }\n\n  onSearchChange(e) {\n    let value = e.detail.value;\n  \n    if (value == '') {\n      this.retrieveProducts();\n      return;\n    }\n  \n    this.productService.searchProduct(value)\n      .then((productsData) => {\n        this.products = productsData;\n      })\n      .catch((error) => {\n        this.products = {};\n      });\n  }\n\n  retrieveProducts() {\n    this.productService.load()\n      .then((productsData) => {\n        this.products = productsData;\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  async filterProduct() {\n    const modal = await this.modalController.create({\n      component: FilterProductModalPage,\n    });\n\n    modal.onDidDismiss()\n      .then((products_data) => {\n        if(products_data.data.filteredProducts) {\n          this.products = products_data.data.filteredProducts;\n        }\n      });\n    return await modal.present();\n  }\n}"],"sourceRoot":""}