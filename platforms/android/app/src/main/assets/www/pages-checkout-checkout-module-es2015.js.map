{"version":3,"sources":["./src/app/pages/checkout/checkout.page.html","./src/app/pages/checkout/checkout.module.ts","./src/app/pages/checkout/checkout.page.scss","./src/app/pages/checkout/checkout.page.ts"],"names":[],"mappings":"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","file":"pages-checkout-checkout-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"light\\\">\\n    <ng-template [ngIf]=\\\"productInfo\\\">\\n      <ion-buttons>\\n        <ion-back-button color=\\\"secondary\\\" [defaultHref]=\\\"'/product-details/' + productInfo.product_id\\\"></ion-back-button>\\n        <ion-title>Checkout</ion-title>\\n      </ion-buttons>\\n    </ng-template>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ng-template [ngIf]=\\\"productInfo\\\">\\n    <ion-card>\\n      <ion-item class=\\\"item-thumbnail-left\\\" lines=\\\"none\\\">\\n        <ion-img class=\\\"image\\\" [src]=\\\"productInfo.thumbnail_image_st\\\"></ion-img>\\n        <div class=\\\"item-info\\\">\\n          <p class=\\\"prod-name\\\">\\n            {{productInfo.product_name_st}}\\n          </p>\\n          <label class=\\\"price\\\">\\n            RM {{productInfo.product_price_nm.toFixed(2)}}\\n          </label>\\n          <label>x1</label>\\n        </div>\\n      </ion-item>\\n    </ion-card>\\n    <ion-card>\\n      <ion-item-group>\\n        <ion-item lines=\\\"full\\\">\\n          <ion-icon name=\\\"pin\\\" color=\\\"secondary\\\"></ion-icon>\\n          <label style=\\\"font-weight: bold; color: #4E4E4E; font-family: sans-serif; margin-left: 3px;\\\">Delivery Address</label>\\n        </ion-item>\\n        <ng-template [ngIf]=\\\"selectedDeliveryAddress\\\" [ngIfElse]=\\\"noDeliveryAddress\\\">\\n          <ion-item lines=\\\"full\\\" detail=true (click)=\\\"presentDeliveryModal(selectedDeliveryAddress.delivery_id)\\\">\\n            <ion-label class=\\\"ion-text-wrap\\\" style=\\\"color: #4E4E4E; font-family: sans-serif;\\\">\\n              <ion-text>{{selectedDeliveryAddress.rec_name_st}}</ion-text>\\n              <br/>\\n              <label>{{selectedDeliveryAddress.rec_phone_st}}</label>\\n              <br/>\\n              <ion-text>\\n                <label>{{selectedDeliveryAddress.address1_st + \\\", \\\" + (selectedDeliveryAddress.address2_st == null ? \\\"\\\" : selectedDeliveryAddress.address2_st + \\\", \\\") + selectedDeliveryAddress.zipcode_st + \\\" \\\" + selectedDeliveryAddress.state_st}}</label>\\n              </ion-text>\\n            </ion-label>\\n          </ion-item>\\n        </ng-template>\\n        <ng-template #noDeliveryAddress>\\n          <ion-item lines=\\\"full\\\" detail=true (click)=\\\"presentDeliveryModal()\\\">\\n            <ion-label>Choose your delivery address</ion-label>\\n          </ion-item>\\n        </ng-template>\\n      </ion-item-group>\\n    </ion-card>\\n    <ion-card>\\n      <ion-item-group>\\n        <ion-item lines=\\\"full\\\">\\n          <ion-icon src=\\\"/assets/shipping-icon.svg\\\" color=\\\"secondary\\\"></ion-icon>\\n          <label style=\\\"font-weight: bold; color: #4E4E4E; font-family: sans-serif; margin-left: 3px;\\\">Shipping Option</label>\\n        </ion-item>\\n        <ng-template [ngIf]=\\\"selectedShippingOption\\\">\\n          <ion-item lines=\\\"full\\\" detail=true style=\\\"color: #4E4E4E; font-family: sans-serif;\\\" (click)=\\\"presentShippingOptionsModal(selectedShippingOption.shipping_id)\\\">\\n            <ion-label>\\n              <label>{{selectedShippingOption.courier_name_st}}</label>\\n              <label style=\\\"position: absolute; left: 50%;\\\">RM {{selectedShippingOption.courier_charge_nm.toFixed(2)}}</label>\\n            </ion-label>\\n          </ion-item>\\n        </ng-template>\\n      </ion-item-group>\\n    </ion-card>\\n    <ion-card>\\n      <ion-item-group>\\n        <ion-item lines=\\\"full\\\">\\n          <ion-icon name=\\\"card\\\" color=\\\"secondary\\\"></ion-icon>\\n          <label style=\\\"font-weight: bold; color: #4E4E4E; font-family: sans-serif; margin-left: 3px;\\\">Payment Option</label>\\n        </ion-item>\\n        <ion-item lines=\\\"full\\\" style=\\\"color: #4E4E4E; font-family: sans-serif;\\\">\\n          <ion-label>Credit/Debit Card</ion-label>\\n        </ion-item>\\n      </ion-item-group>\\n    </ion-card>\\n    <ion-card>\\n      <ion-item-group>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-label>Item Subtotal</ion-label>\\n          <ion-label>RM {{productInfo.product_price_nm.toFixed(2)}}</ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-label>Shipping Subtotal</ion-label>\\n          <ng-template [ngIf]=\\\"selectedShippingOption\\\" [ngIfElse]=\\\"shippingsubload\\\">\\n            <ion-label>RM {{selectedShippingOption.courier_charge_nm.toFixed(2)}}</ion-label>\\n          </ng-template>\\n          <ng-template #shippingsubload>\\n            <ion-label>RM 0.00</ion-label>\\n          </ng-template>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-label class=\\\"total-title\\\">Total Payment</ion-label>\\n          <ng-template [ngIf]=\\\"selectedShippingOption\\\" [ngIfElse]=\\\"totalpaymentload\\\">\\n            <ion-label class=\\\"total-price\\\">RM {{(productInfo.product_price_nm + selectedShippingOption.courier_charge_nm).toFixed(2)}}</ion-label>\\n          </ng-template>\\n          <ng-template #totalpaymentload>\\n            <ion-label class=\\\"total-price\\\">RM 0.00</ion-label>\\n          </ng-template>\\n        </ion-item>\\n      </ion-item-group>\\n    </ion-card>\\n  </ng-template>\\n</ion-content>\\n<ion-footer>\\n  <ion-button expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"placeOrder()\\\">\\n    <ion-label>Place Order</ion-label>\\n    <ion-ripple-effect type=\\\"unbounded\\\"></ion-ripple-effect>\\n  </ion-button>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckoutPage } from './checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","module.exports = \"ion-content {\\n  --background: #F1F1F1;\\n}\\n\\nion-card:first-of-type {\\n  margin: 0px;\\n  padding: 10px 0px;\\n}\\n\\nion-card {\\n  margin: 10px 0px;\\n  background-color: white;\\n}\\n\\n.image {\\n  width: 30%;\\n  height: auto;\\n  margin-right: 0.5rem;\\n  padding: 0.5rem;\\n}\\n\\n.item-info {\\n  width: 70%;\\n}\\n\\n.prod-name {\\n  margin-top: 0px;\\n  font-size: large;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n}\\n\\n.price {\\n  font-size: large;\\n  margin-right: 60px;\\n  font-weight: 500;\\n  color: #025296;\\n}\\n\\n.total-title {\\n  font-size: larger;\\n}\\n\\n.total-price {\\n  font-size: larger;\\n  color: #025296;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hlY2tvdXQvQzpcXFVzZXJzXFxsXFxEb2N1bWVudHNcXE1vYmlsZSBUZWNobm9sb2d5IFByb2plY3RcXEV2ZXJ5QnV5L3NyY1xcYXBwXFxwYWdlc1xcY2hlY2tvdXRcXGNoZWNrb3V0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY2hlY2tvdXQvY2hlY2tvdXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksZ0JBQUE7RUFDQSx1QkFBQTtBQ0NKOztBREVBO0VBQ0MsVUFBQTtFQUNHLFlBQUE7RUFDQSxvQkFBQTtFQUNBLGVBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsNEJBQUE7QUNDSjs7QURFQTtFQUNJLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtFQUNBLGNBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NoZWNrb3V0L2NoZWNrb3V0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogI0YxRjFGMTtcclxufVxyXG5cclxuaW9uLWNhcmQ6Zmlyc3Qtb2YtdHlwZSB7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMHB4O1xyXG59XHJcblxyXG5pb24tY2FyZCB7XHJcbiAgICBtYXJnaW46IDEwcHggMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5pbWFnZSB7XHJcblx0d2lkdGg6IDMwJTtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xyXG4gICAgcGFkZGluZzogMC41cmVtO1xyXG59XHJcblxyXG4uaXRlbS1pbmZvIHtcclxuICAgIHdpZHRoOiA3MCU7XHJcbn1cclxuXHJcbi5wcm9kLW5hbWUge1xyXG4gICAgbWFyZ2luLXRvcDogMHB4O1xyXG4gICAgZm9udC1zaXplOiBsYXJnZTtcclxuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xyXG4gICAgLXdlYmtpdC1saW5lLWNsYW1wOiAyO1xyXG4gICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcclxufVxyXG5cclxuLnByaWNle1xyXG4gICAgZm9udC1zaXplOiBsYXJnZTtcclxuICAgIG1hcmdpbi1yaWdodDogNjBweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBjb2xvcjogIzAyNTI5NjtcclxufVxyXG5cclxuLnRvdGFsLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2VyO1xyXG59XHJcblxyXG4udG90YWwtcHJpY2Uge1xyXG4gICAgZm9udC1zaXplOiBsYXJnZXI7XHJcbiAgICBjb2xvcjogIzAyNTI5NjtcclxufSIsImlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiAjRjFGMUYxO1xufVxuXG5pb24tY2FyZDpmaXJzdC1vZi10eXBlIHtcbiAgbWFyZ2luOiAwcHg7XG4gIHBhZGRpbmc6IDEwcHggMHB4O1xufVxuXG5pb24tY2FyZCB7XG4gIG1hcmdpbjogMTBweCAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4uaW1hZ2Uge1xuICB3aWR0aDogMzAlO1xuICBoZWlnaHQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICBwYWRkaW5nOiAwLjVyZW07XG59XG5cbi5pdGVtLWluZm8ge1xuICB3aWR0aDogNzAlO1xufVxuXG4ucHJvZC1uYW1lIHtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBmb250LXNpemU6IGxhcmdlO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gIC13ZWJraXQtbGluZS1jbGFtcDogMjtcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbn1cblxuLnByaWNlIHtcbiAgZm9udC1zaXplOiBsYXJnZTtcbiAgbWFyZ2luLXJpZ2h0OiA2MHB4O1xuICBmb250LXdlaWdodDogNTAwO1xuICBjb2xvcjogIzAyNTI5Njtcbn1cblxuLnRvdGFsLXRpdGxlIHtcbiAgZm9udC1zaXplOiBsYXJnZXI7XG59XG5cbi50b3RhbC1wcmljZSB7XG4gIGZvbnQtc2l6ZTogbGFyZ2VyO1xuICBjb2xvcjogIzAyNTI5Njtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { NavController, ModalController } from '@ionic/angular';\n\nimport { ProductService } from '../../services/product.service';\nimport { OrderService } from '../../services/order.service';\n\nimport { DeliveryModalPage } from '../../modals/delivery-modal/delivery-modal.page';\nimport { ShippingModalPage } from '../../modals/shipping-modal/shipping-modal.page';\n\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.page.html',\n  styleUrls: ['./checkout.page.scss'],\n})\nexport class CheckoutPage implements OnInit {\n  public productInfo: any;\n  public selectedDeliveryAddress: any;\n  public selectedShippingOption: any;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private navCtrl: NavController,\n    private modalController: ModalController,\n    private productService: ProductService,\n    private orderService: OrderService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    let product_id = this.activatedRoute.snapshot.paramMap.get('id');\n    this.productService.getProductDetails(product_id)\n      .then((product_details) => {\n        this.productInfo = product_details;\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    \n    this.orderService.getUserLastOrder(1)\n      .then((delivery_address) => {\n        this.selectedDeliveryAddress = delivery_address[0];\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    \n    this.orderService.getShippingOptions()\n      .then((shipping_options) => {\n        this.selectedShippingOption = shipping_options[0];\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  async presentDeliveryModal(deliveryId) {\n    const modal = await this.modalController.create({\n      component: DeliveryModalPage,\n      componentProps: {\n        selected: deliveryId\n     }\n    });\n\n    modal.onDidDismiss()\n      .then((modalResponse) => {\n        this.orderService.getDeliveryAddresses(modalResponse.data.selectedDelivery)\n          .then((delivery_address) => {\n            this.selectedDeliveryAddress = delivery_address[0];\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      });\n    return await modal.present();\n  }\n\n  async presentShippingOptionsModal(shipOptId) {\n    const modal = await this.modalController.create({\n      component: ShippingModalPage,\n      componentProps: {\n        selected: shipOptId\n     }\n    });\n\n    modal.onDidDismiss()\n      .then((modalResponse) => {\n        this.orderService.getShippingOptions(modalResponse.data.selectedShipping)\n          .then((shippingOption) => {\n            this.selectedShippingOption = shippingOption[0];\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      });\n    return await modal.present();\n  }\n\n  placeOrder() {\n    this.orderService.createOrder(this.productInfo.product_id, this.selectedDeliveryAddress.delivery_id, this.selectedShippingOption.shipping_id)\n      .then((response_orderId) => {\n        this.navCtrl.navigateRoot(\"/payment\");\n        let navigationExtras: NavigationExtras = {\n          queryParams: {\n              order_id: response_orderId\n          }\n        };\n        this.navCtrl.navigateForward('/payment', navigationExtras);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n}"],"sourceRoot":""}