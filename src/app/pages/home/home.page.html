<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
    </ion-buttons>
    <ion-title>Home</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-toolbar>
    <ion-searchbar placeholder="Search by Product Name" style="width: 90%; margin: auto;" slot="start" (ionChange)="onSearchChange($event)"></ion-searchbar>
    <ion-buttons slot="end">
      <ion-button color="primary">
        <ion-icon name="funnel"></ion-icon>
        <label>Filter</label>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ng-template [ngIf]="products && products.length > 0" [ngIfElse]="noProduct">
    <!-- <ion-list>
      <ion-item class="item-thumbnail-left" *ngFor="let product of products"  [routerLink]="['/product-details']">
        <ion-img class="image" src="product.image_urls_st.split(',')[0]"></ion-img>
        <div class="item-info">
          <p class="prod-name">
            {{product.product_name_st}}
          </p>
          <p class="price">
            RM {{product.product_price_nm.toFixed(2)}}
          </p>
        </div>
      </ion-item>
    </ion-list> -->
    <ion-virtual-scroll [items]="products" approxItemHeight="320px">
      <ion-item class="item-thumbnail-left" *virtualItem="let product;" [routerLink]="['/product-details/' + product.product_id]">
        <ion-img class="image" [src]="product.thumbnail_image_st"></ion-img>
        <div class="item-info">
          <p class="prod-name">
            {{product.product_name_st}}
          </p>
          <p class="price">
            RM {{product.product_price_nm.toFixed(2)}}
          </p>
        </div>
      </ion-item>
    </ion-virtual-scroll>
  </ng-template>
  <ng-template #noProduct>
    <p style="padding: 0px 10px;">No available product</p>
  </ng-template>
  <!-- <ion-buttons>
    <ion-button [routerLink]="['/list']">
      <ion-label>List</ion-label>
      <ion-icon name="information-circle"></ion-icon>
    </ion-button>
  </ion-buttons> -->
</ion-content>
<app-tabs></app-tabs>